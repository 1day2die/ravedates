<!DOCTYPE html>
<html lang="de" class="h-full bg-neutral-950 text-neutral-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rave Dates</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            neon: {
              pink: '#ff0dd9',
              green: '#39ff14',
              blue: '#00eaff',
              purple: '#9d4bff',
              yellow: '#ffe500'
            }
          },
          boxShadow: {
            'neon-pink': '0 0 6px #ff0dd9, 0 0 16px #ff0dd9AA',
            'neon-blue': '0 0 6px #00eaff, 0 0 16px #00eaffAA',
            'neon-mix': '0 0 6px #ff0dd9, 0 0 14px #00eaff'
          },
          backgroundImage: {
            'grid-neon': 'radial-gradient(circle at 20% 30%, rgba(255,13,217,0.10), transparent 60%), radial-gradient(circle at 80% 70%, rgba(0,234,255,0.10), transparent 55%), linear-gradient(140deg,#050510,#0a0a17,#050510)'
          }
        }
      }
    };
  </script>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='48' fill='%2300f' /></svg>">
</head>
<body class="h-full min-h-screen flex flex-col font-sans bg-grid-neon selection:bg-neon-pink/40 selection:text-neon-yellow">
  <header class="p-4 md:p-6 bg-neutral-900/70 backdrop-blur border-b border-neutral-800 shadow-neon-mix">
    <h1 class="text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2">Rave Dates <span class="text-neutral-300 text-sm font-normal">Friends Edition</span></h1>
    <p class="text-xs mt-1 text-neutral-400">Browse â€¢ Filtern â€¢ Voten â€¢ Details</p>
  </header>

  <main class="flex-1 w-full max-w-7xl mx-auto p-4 md:p-6 space-y-10">
    <!-- Filter Bar -->
    <section class="rounded-lg border border-neutral-800/80 bg-neutral-900/70 backdrop-blur-sm shadow-neon-blue px-4 py-4 flex flex-col gap-4 md:flex-row md:items-start md:gap-6">
      <div class="flex-1 min-w-[200px]">
        <label for="searchInput" class="block text-[11px] uppercase tracking-wide text-neutral-400 mb-1">Suche (Name / Venue / Artist / Genre)</label>
        <div class="relative">
          <input id="searchInput" type="text" placeholder="z.B. Techno, WeststadtcafÃ©..." class="w-full bg-neutral-800/70 focus:bg-neutral-800 rounded-md px-3 py-2 text-sm outline-none border border-neutral-700 focus:border-neon-pink shadow-inner placeholder:text-neutral-500" />
          <span class="pointer-events-none absolute right-2 top-1.5 text-neutral-500 text-xs">âŒ•</span>
        </div>
      </div>
      <div class="w-full md:w-80 space-y-2">
        <label class="block text-[11px] uppercase tracking-wide text-neutral-400">Genre Filter</label>
        <div id="genreMulti" class="relative">
          <button id="genreDropdownBtn" type="button" class="w-full group bg-neutral-800/60 hover:bg-neutral-800 rounded-md px-3 py-2 text-left text-xs border border-neutral-700 focus:border-neon-blue outline-none flex items-start gap-2 flex-wrap min-h-[42px] transition">
            <div id="genreSelectedChips" class="flex flex-wrap gap-1 items-center leading-tight text-[11px] text-neutral-400">Alle Genres</div>
            <span class="ml-auto text-neutral-500 text-[10px] pt-0.5 group-hover:text-neutral-300">â–¼</span>
          </button>
          <div id="genreDropdownPanel" class="hidden absolute z-40 mt-1 w-full rounded-md border border-neutral-700 bg-neutral-900/95 backdrop-blur p-2 max-h-72 overflow-y-auto shadow-neon-blue animate-fadeIn origin-top">
            <div class="flex items-center justify-between mb-2 gap-2">
              <button type="button" data-genre-select-all class="px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-[11px]">Alle</button>
              <button type="button" data-genre-clear class="px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-[11px]">Keine</button>
              <button type="button" data-genre-close class="ml-auto px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-[11px]">Fertig</button>
            </div>
            <div id="genreOptions" class="grid grid-cols-1 gap-1 text-xs"></div>
          </div>
        </div>
        <select id="genreSelect" multiple class="hidden" aria-hidden="true"></select>
        <p class="text-[10px] text-neutral-500">WÃ¤hle beliebig viele Genres â€“ leer bedeutet alle.</p>
      </div>
      <div class="flex gap-2 md:ml-auto pt-1">
        <button id="clearFilters" class="px-3 py-2 text-xs rounded bg-neutral-800 border border-neutral-700 hover:bg-neutral-700/70">Reset</button>
      </div>
    </section>

    <!-- Top Events -->
    <section class="space-y-3">
      <h2 class="text-xl font-semibold flex items-center gap-3"><span class="bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent">ðŸ”¥ Top Events</span><button id="refreshTop" class="text-[11px] px-2 py-1 rounded border border-neutral-700 hover:border-neon-pink/60 hover:text-neon-pink">Refresh</button></h2>
      <div id="topEvents" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>
    </section>

    <!-- Regionen -->
    <section class="space-y-3">
      <h2 class="text-xl font-semibold bg-gradient-to-r from-neon-blue to-neon-pink bg-clip-text text-transparent">Regionen</h2>
      <div id="regionsContainer" class="space-y-4"></div>
    </section>
  </main>

  <footer class="p-4 text-center text-[11px] text-neutral-500 tracking-wide border-t border-neutral-800/80 bg-neutral-900/60">
    <span class="text-neutral-400/70">Built for friends â€¢ Votes lokal â€¢ Neon Mode âš¡</span>
  </footer>

  <!-- Modal -->
  <div id="eventModal" class="fixed inset-0 hidden items-center justify-center z-50">
    <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" data-modal-close></div>
    <div class="relative bg-neutral-900 border border-neutral-700 rounded-lg max-w-lg w-full mx-4 shadow-2xl animate-fadeIn">
      <div class="flex items-start justify-between p-4 border-b border-neutral-700">
        <h3 id="modalTitle" class="text-lg font-semibold"></h3>
        <button data-modal-close class="text-neutral-400 hover:text-neutral-200 transition">âœ•</button>
      </div>
      <div id="modalBody" class="p-4 space-y-4 text-sm max-h-[70vh] overflow-y-auto"></div>
      <div class="p-4 border-t border-neutral-700 flex justify-end">
        <button data-modal-close class="px-3 py-1.5 rounded bg-neutral-700 hover:bg-neutral-600 text-sm">SchlieÃŸen</button>
      </div>
    </div>
  </div>

  <!-- Intro Modal (erscheint nur beim ersten Besuch) -->
  <div id="introModal" class="fixed inset-0 hidden items-center justify-center z-50">
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" data-intro-close></div>
    <div class="relative bg-neutral-900/95 border border-neutral-700 rounded-xl max-w-xl w-full mx-4 shadow-neon-mix animate-fadeIn p-0 overflow-hidden">
      <div class="p-5 border-b border-neutral-700 flex items-start gap-4">
        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-neon-pink/30 to-neon-blue/30 flex items-center justify-center text-neon-pink font-bold text-lg shadow-neon-pink">âš¡</div>
        <div class="flex-1">
          <h3 class="text-xl font-semibold tracking-tight glow-text">Willkommen bei Rave Dates</h3>
          <p class="text-[11px] uppercase tracking-wide text-neutral-400 mt-1">Friends Edition</p>
        </div>
        <button data-intro-close class="text-neutral-400 hover:text-neutral-200 transition text-lg leading-none">âœ•</button>
      </div>
      <div class="p-5 space-y-5 text-sm leading-relaxed max-h-[60vh] overflow-y-auto">
        <p>Hier findest du anstehende <strong class="text-neon-pink">Raves / Club Events</strong> aus unseren Regionen. Du kannst fÃ¼r Events voten, die dich interessieren â€“ so sehen wir schnell, was fÃ¼r die Crew spannend ist.</p>
        <div class="space-y-2">
          <h4 class="font-semibold text-neon-blue text-sm">So nutzt du die Seite:</h4>
          <ul class="list-disc list-inside space-y-1 text-neutral-300">
            <li><strong>Suche:</strong> Oben kannst du nach <em>Name, Venue, Artist oder Genre</em> filtern.</li>
            <li><strong>Genres filtern:</strong> Nutze das Genre-Dropdown, um nur bestimmte Styles zu sehen.</li>
            <li><strong>Regionen aufklappen:</strong> Jede Region ist einklappbar â€“ klick auf den Header.</li>
            <li><strong>Votes:</strong> Mit einem Klick auf Vote kannst du fÃ¼r ein Event abstimmen. Dieses wird dann unter "Top Events" angezeigt.</li>
            <li><strong>Details:</strong> Einfach auf ein Event klicken fÃ¼r Lineup & Zeiten.</li>
          </ul>
        </div>
        <div class="space-y-2">
          <h4 class="font-semibold text-neon-pink text-sm">Feedback & WÃ¼nsche</h4>
          <p>Ideen? Bugs? Neue Features? Einfach <span class="font-medium text-neon-blue">Dennis</span> anhauen â€“ das Projekt lebt von unseren Inputs.</p>
        </div>
        <p class="text-neutral-400 text-xs">(Dieses Intro erscheint nur beim ersten Besuch â€“ du kannst es jederzeit schlieÃŸen.)</p>
      </div>
      <div class="p-5 border-t border-neutral-700 flex flex-col sm:flex-row gap-3 sm:justify-between">
        <label class="flex items-center gap-2 text-xs text-neutral-400 select-none cursor-pointer">
          <input id="introDontShow" type="checkbox" class="accent-neon-pink" /> Nicht mehr anzeigen
        </label>
        <div class="flex gap-3 sm:ml-auto">
          <button data-intro-close class="px-4 py-2 rounded bg-neutral-700/70 hover:bg-neutral-600 text-sm">SchlieÃŸen</button>
          <button id="introStartBtn" class="px-4 py-2 rounded bg-gradient-to-r from-neon-pink to-neon-blue text-neutral-900 font-semibold text-sm shadow-neon-mix hover:brightness-110">Los geht's</button>
        </div>
      </div>
    </div>
  </div>

  <style>
    @keyframes fadeIn { from { opacity: 0; transform: translateY(4px);} to { opacity: 1; transform: translateY(0);} }
    .animate-fadeIn { animation: fadeIn .25s ease-out; }

    /* ZusÃ¤tzliche Neon Effekte */
    .neon-border { box-shadow: 0 0 4px #ff0dd9AA, 0 0 12px #00eaff66 inset; }
    .card-gradient { background: linear-gradient(145deg, rgba(20,20,35,0.85), rgba(10,10,20,0.85)); }
    .glow-text { text-shadow: 0 0 4px #ff0dd9, 0 0 10px #00eaff; }
    .vote-btn-anim { position: relative; }
    .vote-btn-anim::after { content: ''; position:absolute; inset:0; border-radius:inherit; box-shadow:0 0 6px #ff0dd9AA,0 0 14px #00eaff55; opacity:0; transition:opacity .3s; }
    .vote-btn-anim:hover::after { opacity:1; }

    /* Neon Separator unter jedem Event-Listen-Item (Regionen-Liste) */
    .event-item { position: relative; }
    .event-item:not(:last-child)::after {
      content: '';
      position: absolute;
      left: 50%;
      bottom: -6px; /* etwas Abstand unterhalb des Items */
      transform: translateX(-50%);
      width: 65%;
      height: 3px;
      pointer-events: none;
      background: radial-gradient(circle at 50% 50%, rgba(255,13,217,0.95) 0%, rgba(255,13,217,0.6) 20%, rgba(0,234,255,0.5) 45%, rgba(0,234,255,0.15) 60%, rgba(0,0,0,0) 75%);
      filter: blur(2px) brightness(1.15);
      opacity: 0.9;
    }
    /* leichte horizontale Lichtausbreitung darunter */
    .event-item:not(:last-child)::before {
      content: '';
      position: absolute;
      left: 50%;
      bottom: -10px;
      transform: translateX(-50%);
      width: 40%;
      height: 10px;
      pointer-events: none;
      background: radial-gradient(circle at 50% 20%, rgba(255,13,217,0.55), rgba(0,234,255,0.15) 55%, rgba(0,0,0,0) 70%);
      filter: blur(8px) saturate(140%);
      opacity: 0.7;
    }
  </style>
  <script src="./app.js" type="module"></script>
</body>
</html>
